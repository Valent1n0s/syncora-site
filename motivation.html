<!DOCTYPE html>

<html lang="uk">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Мотивація — SyncOra</title>
<!-- Шрифти і стилі -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&amp;family=Urbanist:wght@400;600;800&amp;display=swap" rel="stylesheet"/>
<link href="style.css" rel="stylesheet"/>
<!-- Вбудовані стилі для модалки -->

<!-- Логіка перекладу та бургер-меню -->
<script>
    let currentLang = 'uk';
    const translations = {
      uk: {
        navHome:       "Головна",
        navTasks:      "Управління",
        navComm:       "Комунікація",
        navPerf:       "Продуктивність",
        navMot:        "Мотивація",
        pageTitle:     "Мотивація",
        pageSub:       "Підтримуйте ентузіазм команди за допомогою челенджів, нагадувань і системи нагород.",
        feat1Title:    "Челенджі",
        feat1Desc:     "Створюйте змагання між командами та окремими учасниками для досягнення цілей.",
        feat2Title:    "Нагадування",
        feat2Desc:     "Автоматичні нагадування допомагають зберігати ритм і підтримувати мотивацію.",
        feat3Title:    "Система нагород",
        feat3Desc:     "Відзначайте досягнення співробітників віртуальними відзнаками та бонусами.",
        btnAction:     "Запустити челендж",
        modalTitle:    "Новий челендж",
        modalName:     "Назва челенджу",
        modalDesc:     "Опис челенджу",
        modalDeadline:"Дедлайн",
        modalSubmit:   "Створити челендж",
        footerText:    "© 2025 SyncOra. Всі права захищені."
      },
      en: {
        navHome:       "Home",
        navTasks:      "Management",
        navComm:       "Communication",
        navPerf:       "Performance",
        navMot:        "Motivation",
        pageTitle:     "Motivation",
        pageSub:       "Keep your team’s spirit high with challenges, reminders and rewards.",
        feat1Title:    "Challenges",
        feat1Desc:     "Create competitions between teams and individuals to reach goals.",
        feat2Title:    "Reminders",
        feat2Desc:     "Automated reminders help keep the pace and motivation.",
        feat3Title:    "Rewards System",
        feat3Desc:     "Celebrate achievements with virtual badges and bonuses.",
        btnAction:     "Start Challenge",
        modalTitle:    "New Challenge",
        modalName:     "Challenge Name",
        modalDesc:     "Challenge Description",
        modalDeadline:"Deadline",
        modalSubmit:   "Create Challenge",
        footerText:    "© 2025 SyncOra. All rights reserved."
      }
    };

    function applyLanguage(lang) {
      const t = translations[lang];
      if (!t) return;
      currentLang = lang;

      // Навігація
      const nav = document.querySelectorAll('.navigation ul li a');
      nav[0].innerText = t.navHome;
      nav[1].innerText = t.navTasks;
      nav[2].innerText = t.navComm;
      nav[3].innerText = t.navPerf;
      nav[4].innerText = t.navMot;

      // Заголовок
      document.querySelector('.page-title h1').innerText = t.pageTitle;
      document.querySelector('.page-title p').innerText = t.pageSub;

      // Фічі
      const feats = document.querySelectorAll('.motivation-feature');
      feats.forEach((el, i) => {
        el.querySelector('h3').innerText = t[`feat${i+1}Title`];
        el.querySelector('p').innerText  = t[`feat${i+1}Desc`];
      });

      // Кнопка дії
      document.querySelector('.motivation-action .btn-large').innerText = t.btnAction;

      // Модалка
      document.querySelector('#challengeModal h2').innerText           = t.modalTitle;
      document.getElementById('challengeTitle').placeholder           = t.modalName;
      document.getElementById('challengeDescription').placeholder     = t.modalDesc;
      document.getElementById('challengeDeadline').placeholder        = t.modalDeadline;
      document.querySelector('#challengeForm button').innerText       = t.modalSubmit;

      // Футер
      document.querySelector('footer p').innerText = t.footerText;

      // Перемикач мови
      document.getElementById('lang-toggle').innerText = (lang === 'uk' ? 'Укр' : 'En');
    }

    document.addEventListener('DOMContentLoaded', () => {
      applyLanguage(currentLang);

      // Перемикач мови
      document.getElementById('lang-toggle')
        .addEventListener('click', () => applyLanguage(currentLang === 'uk' ? 'en' : 'uk'));

      // Бургер-меню
      document.querySelector('.menu-toggle')
        .addEventListener('click', () => {
          document.querySelector('.navigation ul').classList.toggle('show');
        });
    });
  </script>
<!-- AOS -->
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet"/>

<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    background: linear-gradient(to bottom, #f2f4f7, #ffffff);
    color: #111;
    margin: 0;
  }
  .motivation-feature {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.05);
    padding: 24px;
    transition: transform 0.2s ease;
  }
  .motivation-feature:hover {
    transform: translateY(-4px);
  }
  .btn-large {
    background: #007aff;
    color: white;
    padding: 12px 24px;
    font-size: 16px;
    font-weight: 600;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 4px 14px rgba(0,122,255,0.3);
    transition: background 0.3s ease;
  }
  .btn-large:hover {
    background: #005fce;
  }
  .challenge-list ul {
    list-style: none;
    padding: 0;
  }
  .challenge-item {
    background: #fff;
    padding: 20px;
    margin-bottom: 16px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    transition: transform 0.2s ease;
  }
  .challenge-item:hover {
    transform: translateY(-4px);
  }
  .challenge-item h3 {
    margin-top: 0;
    color: #007aff;
  }
  .challenge-item button {
    margin-top: 10px;
    padding: 6px 12px;
    border: none;
    border-radius: 8px;
    font-weight: 500;
    margin-right: 8px;
    cursor: pointer;
  }

  #lang-toggle { color: #000 !important; }
</style>
</head>
<body data-page="motivation">
<!-- Header -->
<header class="site-header">
<div class="nav">
<div class="logo">
<a href="index.html"><img alt="SyncOra Logo" src="images/logo.png"/></a>
</div>
<div aria-label="Toggle menu" class="menu-toggle">
<span></span><span></span><span></span>
</div>
<nav class="navigation">
<ul>
<li><a href="index.html">Головна</a></li>
<li><a href="tasks.html">Управління</a></li>
<li><a href="communication.html">Комунікація</a></li>
<li><a href="performance.html">Продуктивність</a></li>
<li><a class="active" href="motivation.html">Мотивація</a></li>
</ul>
</nav>
<div class="controls">
<button class="lang-toggle" id="lang-toggle">Укр</button>
<a class="auth-btn" href="login.html" id="userAction">Увійти</a>
</div>
</div>
</header>
<!-- Hero -->
<section class="page-header" style="background-image: url('images/motivation-background.jpg');">
<div class="page-title" data-aos="fade-up">
<h1>Мотивація</h1>
<p>Підтримуйте ентузіазм команди за допомогою челенджів, нагадувань і системи нагород.</p>
</div>
</section>
<!-- Features -->
<main id="motivation">
<section class="motivation-features" data-aos="fade-up">
<div class="motivation-feature" data-aos="zoom-in">
<h3>Челенджі</h3>
<p>Створюйте змагання між командами та окремими учасниками для досягнення цілей.</p>
</div>
<div class="motivation-feature" data-aos="zoom-in" data-aos-delay="100">
<h3>Нагадування</h3>
<p>Автоматичні нагадування допомагають зберігати ритм і підтримувати мотивацію.</p>
</div>
<div class="motivation-feature" data-aos="zoom-in" data-aos-delay="200">
<h3>Система нагород</h3>
<p>Відзначайте досягнення співробітників віртуальними відзнаками та бонусами.</p>
</div>
</section>
<div class="motivation-action" data-aos="fade-up">
<a class="btn-large" href="#" id="openChallengeBtn">Запустити челендж</a>
</div>
<section class="challenge-list" data-aos="fade-up" id="challengeList">
<h2>Активні челенджі</h2>
<ul id="challengesContainer"></ul>
</section>
<div class="export-controls" style="text-align:center; margin-top: 24px;">
<button onclick="exportData('json')" style="padding:8px 16px; margin-right: 10px;">Експортувати JSON</button>
<button onclick="exportData('csv')" style="padding:8px 16px;">Експортувати CSV</button>
</div>
</main>
<!-- Modal -->
<div class="modal" id="challengeModal">
<div class="modal-content" data-aos="zoom-in">
<span class="close">×</span>
<h2>Новий челендж</h2>
<form id="challengeForm">
<input id="challengeTitle" placeholder="Назва челенджу" required="" type="text"/>
<textarea id="challengeDescription" placeholder="Опис челенджу" required=""></textarea>
<input id="challengeDeadline" required="" type="date"/>
<button class="btn" type="submit">Створити челендж</button>
</form>
</div>
</div>
<!-- Footer -->
<footer>
<p>© 2025 SyncOra. Всі права захищені.</p>
</footer>
<!-- Скрипти -->
<script>
function editItem(index) {
  const type = document.body.dataset.page;
  const key = {
    tasks: 'tasks',
    performance: 'reports',
    communication: 'notes',
    motivation: 'challenges'
  }[type];

  const items = JSON.parse(localStorage.getItem(key)) || [];
  const item = items[index];
  const newTitle = prompt("Змінити заголовок:", item.title || item.topic);
  const newText  = prompt("Змінити опис:", item.desc || item.text);
  if (newTitle !== null && newText !== null) {
    if (key === 'tasks') {
      const newDeadline = prompt("Змінити дедлайн:", item.deadline);
      const newAssignee = prompt("Змінити виконавця:", item.assignee);
      items[index] = { title: newTitle, desc: newText, deadline: newDeadline, assignee: newAssignee };
    } else {
      items[index] = key === 'notes'
        ? { topic: newTitle, text: newText }
        : { title: newTitle, text: newText };
    }
    localStorage.setItem(key, JSON.stringify(items));
    location.reload();
  }
}
</script><script>
function exportData(format) {
  const user = JSON.parse(localStorage.getItem('loggedInUser'));
  if (!user) {
    alert("Спочатку увійдіть у акаунт.");
    return;
  }
  const key = {
    tasks: 'tasks',
    performance: 'reports',
    communication: 'notes',
    motivation: 'challenges'
  }[document.body.dataset.page];

  const rawData = JSON.parse(localStorage.getItem(key)) || [];
  const filtered = rawData.filter(item => !item.email || item.email === user.email);
  const filename = `${key}_${user.email.replace(/[@.]/g, '_')}.${format}`;

  if (format === 'json') {
    const blob = new Blob([JSON.stringify(filtered, null, 2)], { type: 'application/json' });
    downloadBlob(blob, filename);
  } else if (format === 'csv') {
    const headers = Object.keys(filtered[0] || {});
    const rows = filtered.map(obj => headers.map(k => JSON.stringify(obj[k] || '')).join(','));
    const csv = [headers.join(','), ...rows].join('\n');
    const blob = new Blob([csv], { type: 'text/csv' });
    downloadBlob(blob, filename);
  }
}

function downloadBlob(blob, filename) {
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = filename;
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}
</script><script src="script.js"></script>
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>
function loadChallenges() {
  const container = document.getElementById('challengesContainer');
  container.innerHTML = '';
  const challenges = JSON.parse(localStorage.getItem('challenges')) || [];
  challenges.forEach((c, index) => {
    const item = document.createElement('li');
    item.className = 'challenge-item';
    item.innerHTML = `<h3>${c.title}</h3><p>${c.desc}</p><p><strong>Дедлайн:</strong> ${c.deadline}</p>
    <button onclick="deleteChallenge(${index})" style="margin-top:10px;padding:6px 12px;border:none;border-radius:6px;background:#ff4d4f;color:#fff;cursor:pointer;">Видалити
    <button onclick="editItem(${index})" style="margin-left:10px;padding:6px 12px;border:none;border-radius:6px;background:#ffaa00;color:#fff;cursor:pointer;">Редагувати</button>
</button>`;
    container.appendChild(item);
  });
}
function saveChallengeToStorage(challenge) {
  const challenges = JSON.parse(localStorage.getItem('challenges')) || [];
  challenges.push({ ...challenge, email: JSON.parse(localStorage.getItem('loggedInUser')).email });
  localStorage.setItem('challenges', JSON.stringify(challenges));
}
function deleteChallenge(index) {
  const challenges = JSON.parse(localStorage.getItem('challenges')) || [];
  challenges.splice(index, 1);
  localStorage.setItem('challenges', JSON.stringify(challenges));
  loadChallenges();
}
document.getElementById('challengeForm').addEventListener('submit', e => {
  e.preventDefault();
  const title = document.getElementById('challengeTitle').value;
  const desc = document.getElementById('challengeDescription').value;
  const deadline = document.getElementById('challengeDeadline').value;
  const newChallenge = { title, desc, deadline };
  saveChallengeToStorage(newChallenge);
  loadChallenges();
  document.getElementById('challengeModal').style.display = 'none';
  e.target.reset();
});
document.addEventListener('DOMContentLoaded', loadChallenges);
</script><script>
    AOS.init({ duration: 1000, once: true });

document.addEventListener('DOMContentLoaded', () => {
  const userBtn = document.getElementById('userAction');
  if (userBtn) {
    const user = JSON.parse(localStorage.getItem('loggedInUser'));
    if (user) {
      userBtn.textContent = user.name || 'Кабінет';
      userBtn.setAttribute('href', 'dashboard.html');
    } else {
      userBtn.textContent = 'Увійти';
      userBtn.setAttribute('href', 'login.html');
    }
  }
});


    // Відкриття/закриття модалки
    const openBtn  = document.getElementById('openChallengeBtn');
    const modal    = document.getElementById('challengeModal');
    const closeBtn = modal.querySelector('.close');

    openBtn.addEventListener('click', e => {
      e.preventDefault();
      modal.style.display = 'flex';
    });
    closeBtn.addEventListener('click', () => modal.style.display = 'none');
    window.addEventListener('click', e => {
      if (e.target === modal) modal.style.display = 'none';
    });
  </script>
</body>
</html>
