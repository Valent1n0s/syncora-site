<!DOCTYPE html>

<html lang="uk">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Моніторинг продуктивності — SyncOra</title>
<!-- Шрифти і стилі -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&amp;family=Urbanist:wght@400;600;800&amp;display=swap" rel="stylesheet"/>
<link href="style.css" rel="stylesheet"/>
<!-- Вбудовані стилі для модалки -->

<!-- Переклад і бургер-меню -->
<script>
    let currentLang = 'uk';
    const translations = {
      uk: {
        navHome:       "Головна",
        navTasks:      "Управління",
        navComm:       "Комунікація",
        navPerf:       "Продуктивність",
        navMot:        "Мотивація",
        pageTitle:     "Моніторинг продуктивності",
        pageSub:       "Відстежуйте прогрес команди в реальному часі та оптимізуйте результати.",
        feat1Title:    "Трекер часу",
        feat1Desc:     "Фіксуйте робочий час над завданнями для кращого планування і звітності.",
        feat2Title:    "Аналітика KPI",
        feat2Desc:     "Відстежуйте ключові показники успішності роботи та приймайте зважені рішення.",
        feat3Title:    "Автоматичні звіти",
        feat3Desc:     "Отримуйте регулярні звіти щодо продуктивності кожного співробітника і команди загалом.",
        btnAction:     "Переглянути звіти",
        modalTitle:    "Перегляд звітів",
        modalText:     "Тут буде зведена інформація про продуктивність вашої команди. Ви зможете завантажити або переглянути окремі звіти за проєктами, командами чи індивідуально.",
        modalDownload: "Завантажити звіт",
        footerText:    "© 2025 SyncOra. Всі права захищені."
      },
      en: {
        navHome:       "Home",
        navTasks:      "Management",
        navComm:       "Communication",
        navPerf:       "Performance",
        navMot:        "Motivation",
        pageTitle:     "Performance Monitoring",
        pageSub:       "Track your team's progress in real time and optimize results.",
        feat1Title:    "Time Tracker",
        feat1Desc:     "Record work hours on tasks for better planning and reporting.",
        feat2Title:    "KPI Analytics",
        feat2Desc:     "Monitor key performance indicators and make informed decisions.",
        feat3Title:    "Automatic Reports",
        feat3Desc:     "Receive regular reports on individual and team performance.",
        btnAction:     "View Reports",
        modalTitle:    "View Reports",
        modalText:     "Here you will find aggregated data on your team’s performance. Download or view individual project, team, or personal reports.",
        modalDownload: "Download Report",
        footerText:    "© 2025 SyncOra. All rights reserved."
      }
    };

    function applyLanguage(lang) {
      const t = translations[lang];
      if (!t) return;
      currentLang = lang;

      // Навігація
      const nav = document.querySelectorAll('.navigation ul li a');
      nav[0].innerText = t.navHome;
      nav[1].innerText = t.navTasks;
      nav[2].innerText = t.navComm;
      nav[3].innerText = t.navPerf;
      nav[4].innerText = t.navMot;

      // Заголовок
      document.querySelector('.page-title h1').innerText = t.pageTitle;
      document.querySelector('.page-title p').innerText = t.pageSub;

      // Фічі
      document.querySelectorAll('.performance-feature').forEach((el, i) => {
        el.querySelector('h3').innerText = t[`feat${i+1}Title`];
        el.querySelector('p').innerText  = t[`feat${i+1}Desc`];
      });

      // Кнопка дії
      document.querySelector('.performance-action .btn-large').innerText = t.btnAction;

      // Модалка
      document.querySelector('#reportModal h2').innerText     = t.modalTitle;
      document.querySelector('#reportModal p').innerText      = t.modalText;
      document.querySelector('#reportModal .btn').innerText   = t.modalDownload;

      // Футер
      document.querySelector('footer p').innerText = t.footerText;

      // Перемикач мови
      document.getElementById('lang-toggle').innerText = lang === 'uk' ? 'Укр' : 'En';
    }

    document.addEventListener('DOMContentLoaded', () => {
      applyLanguage(currentLang);

      document.getElementById('lang-toggle')
        .addEventListener('click', () => applyLanguage(currentLang === 'uk' ? 'en' : 'uk'));

      document.querySelectorAll('.menu-toggle').forEach(btn =>
        btn.addEventListener('click', () => {
          document.querySelector('.navigation ul').classList.toggle('show');
        })
      );
    });
  </script>
<!-- AOS CSS -->
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet"/>

<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    background: linear-gradient(to bottom, #f3f5f7, #ffffff);
    color: #111;
    margin: 0;
  }
  .performance-feature {
    background: #fff;
    border-radius: 14px;
    padding: 24px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.06);
    transition: transform 0.2s ease;
  }
  .performance-feature:hover {
    transform: translateY(-4px);
  }
  .btn-large {
    background: #007aff;
    color: white;
    border: none;
    border-radius: 12px;
    padding: 12px 24px;
    font-size: 16px;
    font-weight: 600;
    box-shadow: 0 4px 16px rgba(0, 122, 255, 0.3);
    transition: background 0.3s ease;
  }
  .btn-large:hover {
    background: #005fce;
  }
  select, input[type="text"] {
    border-radius: 10px;
    border: 1px solid #ccc;
    padding: 10px;
    font-size: 16px;
    min-width: 180px;
  }
  #reportModal {
    animation: fadeIn 0.3s ease-out;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px);}
    to { opacity: 1; transform: translateY(0);}
  }
</style>

<script>
  const user = JSON.parse(localStorage.getItem('loggedInUser'));
  if (!user) window.location.href = 'login.html';
</script>

</head>
<body data-page="performance">
<!-- Header -->
<header class="site-header">
<div class="nav">
<div class="logo">
<a href="index.html"><img alt="SyncOra Logo" src="images/logo.png"/></a>
</div>
<div aria-label="Toggle menu" class="menu-toggle">
<span></span><span></span><span></span>
</div>
<nav class="navigation">
<ul>
<li><a href="index.html">Головна</a></li>
<li><a href="tasks.html">Управління</a></li>
<li><a href="communication.html">Комунікація</a></li>
<li><a class="active" href="performance.html">Продуктивність</a></li>
<li><a href="motivation.html">Мотивація</a></li>
</ul>
</nav>
<div class="controls">
<button class="lang-toggle" id="lang-toggle">Укр</button>
</div>
</div>
</header>
<!-- Hero -->
<section class="page-header" style="background-image: url('images/performance-background.jpg');">
<div class="page-title" data-aos="fade-up">
<h1>Моніторинг продуктивності</h1>
<p class="page-subtitle">Відстежуйте прогрес команди в реальному часі та оптимізуйте результати.</p>
</div>
</section>
<!-- Features -->
<main id="performance">
<section class="performance-features" data-aos="fade-up">
<div class="performance-feature" data-aos="zoom-in">
<h3>Трекер часу</h3>
<p>Фіксуйте робочий час над завданнями для кращого планування і звітності.</p>
</div>
<div class="performance-feature" data-aos="zoom-in" data-aos-delay="100">
<h3>Аналітика KPI</h3>
<p>Відстежуйте ключові показники успішності роботи та приймайте зважені рішення.</p>
</div>
<div class="performance-feature" data-aos="zoom-in" data-aos-delay="200">
<h3>Автоматичні звіти</h3>
<p>Отримуйте регулярні звіти щодо продуктивності кожного співробітника і команди загалом.</p>
</div>
</section>
<div class="performance-action" data-aos="fade-up">
<a class="btn-large" href="#" id="openReportBtn">Переглянути звіти</a>
</div>
</main>
<!-- Modal -->
<canvas height="300" id="reportChart" style="margin: 30px auto; display:block;" width="600"></canvas><div class="modal" id="reportModal">
<div class="modal-content" data-aos="zoom-in">
<span class="close">×</span>
<h2>Перегляд звітів</h2>
<p>Тут буде зведена інформація про продуктивність вашої команди. Ви зможете завантажити або переглянути окремі звіти за проєктами, командами чи індивідуально.</p>
<a class="btn" href="#">Завантажити звіт</a>
</div>
</div>
<!-- Footer -->
<section class="task-controls" style="margin: 40px 20px 20px;">
<h2 style="text-align:center;">Усі задачі</h2>
<div style="display:flex;gap:20px;justify-content:center;flex-wrap:wrap;margin-top:20px;">
<select id="statusFilter" style="padding:10px;border-radius:8px;">
<option value="all">Усі статуси</option>
<option value="ToDo">To Do</option>
<option value="In Progress">In Progress</option>
<option value="Done">Done</option>
</select>
<input id="taskSearch" placeholder="Пошук за назвою" style="padding:10px;border-radius:8px;min-width:220px;" type="text"/>
</div>
<div id="taskStats" style="text-align:center;margin-top:20px;"></div>
</section>

<footer>
<p>© 2025 SyncOra. Всі права захищені.</p>
</footer>
<!-- Скрипти -->
<script src="lang.js"></script>
<script type="module" src="firebase-config.js"></script>
<script type="module" src="script.js"></script>
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>
function drawChart(data) {
  const ctx = document.getElementById('reportChart').getContext('2d');
  ctx.clearRect(0, 0, 600, 300);
  const weekly = data.filter(d => d.type === 'Щотижневий').length;
  const monthly = data.filter(d => d.type === 'Щомісячний').length;
  const personal = data.filter(d => d.type === 'Особистий').length;

  const bars = [weekly, monthly, personal];
  const labels = ['Щотижневі', 'Щомісячні', 'Особисті'];
  const colors = ['#0077ff', '#00c853', '#ff6f00'];

  bars.forEach((value, i) => {
    ctx.fillStyle = colors[i];
    ctx.fillRect(i * 200 + 50, 250 - value * 20, 100, value * 20);
    ctx.fillStyle = '#333';
    ctx.textAlign = 'center';
    ctx.fillText(labels[i], i * 200 + 100, 270);
    ctx.fillText(value, i * 200 + 100, 240 - value * 20);
  });
}
</script><script>
    AOS.init({ duration: 1000, once: true });
    const openBtn  = document.getElementById('openReportBtn');
    const modal    = document.getElementById('reportModal');
    const closeBtn = modal.querySelector('.close');

    openBtn.addEventListener('click', e => {
      e.preventDefault();
      modal.style.display = 'flex';
    });
    closeBtn.addEventListener('click', () => modal.style.display = 'none');
    window.addEventListener('click', e => {
      if (e.target === modal) modal.style.display = 'none';
    });
  </script>
</body>
</html>
